<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - AI Study</title>
    <link rel="stylesheet" href="styles.css">
    
    <script
      async
      crossorigin="anonymous"
      data-clerk-publishable-key="pk_test_c3RlYWR5LXNocmV3LTgxLmNsZXJrLmFjY291bnRzLmRldiQ"
      src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
      type="text/javascript"
    ></script>

    <style>
        /* Optional: Center the login box nicely */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #f3f4f6; /* Light gray background */
            font-family: sans-serif;
        }
    </style>
</head>
<body>

    <div class="container">
        <div id="sign-in-container"></div>
    </div>

    <script>
      window.addEventListener("load", async function () {
        // Wait for Clerk to load
        await Clerk.load();

        if (Clerk.user) {
          // If user is already logged in, redirect them to the homepage immediately
          window.location.href = "index.html";
        } else {
          // If not logged in, mount the Sign In box
          const signInDiv = document.getElementById("sign-in-container");
          
          Clerk.mountSignIn(signInDiv, {
             afterSignInUrl: "index.html",
             afterSignUpUrl: "index.html",
             // This ensures the "Forgot Password" link appears
             appearance: {
                elements: {
                    footerActionLink: "text-blue-600 hover:text-blue-800" 
                }
             }
          });
        }
      });
    </script>

</body>
</html>