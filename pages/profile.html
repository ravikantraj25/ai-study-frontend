<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>My Profile â€” AI Study</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
<link rel="stylesheet" href="../styles.css">

<script
  async
  crossorigin="anonymous"
  data-clerk-publishable-key="pk_test_c3RlYWR5LXNocmV3LTgxLmNsZXJrLmFjY291bnRzLmRldiQ"
  src="https://cdn.jsdelivr.net/npm/@clerk/clerk-js@latest/dist/clerk.browser.js"
  type="text/javascript"
></script>

<style>
/* ---------- THEME VARIABLES ---------- */
:root {
    --bg-color: #050507;
    --text-main: #ffffff;
    --primary-gradient: linear-gradient(135deg, #6366f1, #3b82f6);
    --card-border: rgba(255, 255, 255, 0.08);
}

body {
    background: var(--bg-color);
    color: var(--text-main);
    font-family: "Inter", sans-serif;
    margin: 0;
}

/* Sidebar Styling */
.sidebar { 
    position: fixed; height: 100vh; top: 0; left: 0; width: 250px; 
    border-right: 1px solid var(--card-border); background: var(--bg-color); 
    z-index: 10; display: flex; flex-direction: column;
}

.sidebar a {
    padding: 15px 24px; color: #a1a1aa; text-decoration: none;
    font-size: 14px; font-weight: 500; transition: 0.2s;
}
.sidebar a:hover { color: #fff; background: rgba(255,255,255,0.03); }
.sidebar a.active { color: #fff; background: rgba(99, 102, 241, 0.1); border-right: 3px solid #6366f1; }

.content-with-sidebar { 
    margin-left: 250px; 
    padding: 40px; 
    min-height: 100vh;
    display: flex;
    justify-content: center; /* Centers the profile box */
    align-items: flex-start;
}

/* Container for the Clerk Profile */
#user-profile-mount {
    width: 100%;
    max-width: 800px;
    margin-top: 20px;
}
</style>
</head>

<body>

<aside class="sidebar" id="sidebar">
    <div class="brand" style="padding:24px; font-size:22px; font-weight:800; background:var(--primary-gradient); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">AI Study</div>
    
    <a href="../index.html">Home</a>
    <a href="summarize.html">Summarize PDF</a>
    <a href="make-notes.html">Make Notes</a>
    <a href="mcq.html">Make MCQ</a>
    <a href="explain.html">Explain</a>
    <a href="qna.html">QnA</a>
    <a href="notes.html">History</a>
    
    <div class="spacer" style="height:40px"></div>
    
    <a href="profile.html" class="active">Profile</a>
</aside>

<main class="content-with-sidebar">
    <div id="user-profile-mount"></div>
</main>

<script>
    window.addEventListener("load", async function () {
        // 1. Initialize Clerk
        await Clerk.load();

        if (!Clerk.user) {
            // If not logged in, force them back to login page
            window.location.href = "login.html";
        } else {
            // 2. Mount the Full Profile Component
            const mountDiv = document.getElementById("user-profile-mount");
            
            Clerk.mountUserProfile(mountDiv, {
                appearance: {
                    baseTheme: 'dark', // Matches your dark website
                    variables: {
                        colorPrimary: '#6366f1', // Your purple/blue brand color
                        colorBackground: '#050507', // Your dark background
                        colorText: '#ffffff'
                    }
                }
            });
        }
    });
</script>

</body>
</html>